import{A as ce,s as V,f as v,l as x,a as B,g as E,h as D,m as ee,d as y,c as A,B as z,j as b,i as T,x as S,C as J,n as te,y as O,D as ue,E as W,F as ye,G as ne,o as fe,p as Z,e as se,H as C,I as de,z as we,k as L,t as M}from"../chunks/scheduler.ea24621b.js";import{S as Y,i as H,g as he,t as P,c as pe,a as I,b as j,d as F,m as G,e as U}from"../chunks/index.d2036c65.js";import{w as Ne}from"../chunks/index.871c1160.js";function X(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const $={name:"Your Note",type:"file",content:`# Welcome!
## Tutorial
You can type '# <Heading Text>' to make a heading.
Type two hashtags like '## <Subheading Text>' to make a subheading.
Normally type to write everything else.
## What to do next?
Start writing ideas. Record notes. Make a todo list. The choice is up to you! :D`};function Ce(){const n=localStorage.getItem("notes");if(n===null)return[JSON.parse(JSON.stringify($))];try{return JSON.parse(n)}catch{return[JSON.parse(JSON.stringify($))]}}const q=Ne(Ce());function Se(n){q.update(e=>{const t=e.findIndex(s=>s.name===n);return e.splice(t,1),localStorage.setItem("notes",JSON.stringify(e)),e})}function ve(n){q.update(e=>{const t=JSON.parse(JSON.stringify($));return t.name=n,e.push(t),localStorage.setItem("notes",JSON.stringify(e)),e})}function me(){return ce(q)[0]}function ge(n){return ce(q).find(e=>e.name===n)}function Ee(n,e){q.update(t=>{const s=t.findIndex(l=>l.name===n);return t[s].content=e,localStorage.setItem("notes",JSON.stringify(t)),t})}function Te(n){let e,t,s,l,r,d="delete",c,u;return{c(){e=v("div"),t=v("p"),s=x(n[0]),l=B(),r=v("span"),r.textContent=d,this.h()},l(i){e=E(i,"DIV",{class:!0});var h=D(e);t=E(h,"P",{class:!0});var _=D(t);s=ee(_,n[0]),_.forEach(y),l=A(h),r=E(h,"SPAN",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-in48ki"&&(r.textContent=d),h.forEach(y),this.h()},h(){b(t,"class","svelte-7kwkek"),b(r,"class","material-symbols-rounded svelte-7kwkek"),b(e,"class","svelte-7kwkek")},m(i,h){T(i,e,h),S(e,t),S(t,s),S(e,l),S(e,r),c||(u=[J(t,"click",n[2]),J(r,"click",n[3])],c=!0)},p(i,[h]){h&1&&te(s,i[0])},i:O,o:O,d(i){i&&y(e),c=!1,ue(u)}}}function Ie(n,e,t){const s=W();let{name:l}=e;function r(c){ye.call(this,n,c)}const d=()=>s("delete",l);return n.$$set=c=>{"name"in c&&t(0,l=c.name)},[l,s,r,d]}class Le extends Y{constructor(e){super(),H(this,e,Ie,Te,V,{name:0})}}function De(n){let e,t,s;return{c(){e=v("input"),this.h()},l(l){e=E(l,"INPUT",{class:!0}),this.h()},h(){b(e,"class","svelte-1onyq2o")},m(l,r){T(l,e,r),n[3](e),ne(e,n[0]),t||(s=[J(e,"input",n[4]),J(e,"keydown",n[2])],t=!0)},p(l,[r]){r&1&&e.value!==l[0]&&ne(e,l[0])},i:O,o:O,d(l){l&&y(e),n[3](null),t=!1,ue(s)}}}function Oe(n,e,t){let s;const l=W();let r,d="";function c(h){h.key==="Enter"&&!s&&l("confirm",d),h.key==="Escape"&&l("cancel")}fe(()=>{r.focus()});function u(h){Z[h?"unshift":"push"](()=>{r=h,t(1,r)})}function i(){d=this.value,t(0,d)}return n.$$.update=()=>{n.$$.dirty&1&&(s=ge(d)!==void 0||d==="")},[d,r,c,u,i]}class Pe extends Y{constructor(e){super(),H(this,e,Oe,De,V,{})}}function Be(n){let e,t='<span class="material-symbols-rounded">add</span>',s,l;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(r){e=E(r,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1ifqwpm"&&(e.innerHTML=t),this.h()},h(){b(e,"id","new-note-button"),b(e,"class","svelte-aw1si5")},m(r,d){T(r,e,d),s||(l=J(e,"click",n[3]),s=!0)},p:O,i:O,o:O,d(r){r&&y(e),s=!1,l()}}}function Ae(n){let e,t;return e=new Pe({}),e.$on("confirm",n[1]),e.$on("cancel",n[2]),{c(){j(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,l){G(e,s,l),t=!0},p:O,i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Je(n){let e,t,s,l;const r=[Ae,Be],d=[];function c(u,i){return u[0]?0:1}return e=c(n),t=d[e]=r[e](n),{c(){t.c(),s=se()},l(u){t.l(u),s=se()},m(u,i){d[e].m(u,i),T(u,s,i),l=!0},p(u,[i]){let h=e;e=c(u),e===h?d[e].p(u,i):(he(),P(d[h],1,1,()=>{d[h]=null}),pe(),t=d[e],t?t.p(u,i):(t=d[e]=r[e](u),t.c()),I(t,1),t.m(s.parentNode,s))},i(u){l||(I(t),l=!0)},o(u){P(t),l=!1},d(u){u&&y(s),d[e].d(u)}}}function qe(n,e,t){const s=W();let l=!1;function r(u){ve(u.detail),t(0,l=!1),s("create",u.detail)}return[l,r,()=>t(0,l=!1),()=>t(0,l=!0)]}class Re extends Y{constructor(e){super(),H(this,e,qe,Je,V,{})}}function le(n,e,t){const s=n.slice();return s[9]=e[t],s}function re(n){let e,t;function s(){return n[5](n[9])}return e=new Le({props:{name:n[9].name}}),e.$on("click",s),e.$on("delete",n[6]),{c(){j(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,r){G(e,l,r),t=!0},p(l,r){n=l;const d={};r&2&&(d.name=n[9].name),e.$set(d)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function Me(n){let e,t,s,l,r,d=n[0]?"close":"menu",c,u,i,h,_=X(n[1]),a=[];for(let o=0;o<_.length;o+=1)a[o]=re(le(n,_,o));const g=o=>P(a[o],1,1,()=>{a[o]=null});return s=new Re({}),s.$on("create",n[7]),{c(){e=v("div");for(let o=0;o<a.length;o+=1)a[o].c();t=B(),j(s.$$.fragment),l=B(),r=v("span"),c=x(d),this.h()},l(o){e=E(o,"DIV",{id:!0,class:!0});var m=D(e);for(let w=0;w<a.length;w+=1)a[w].l(m);t=A(m),F(s.$$.fragment,m),m.forEach(y),l=A(o),r=E(o,"SPAN",{id:!0,class:!0});var f=D(r);c=ee(f,d),f.forEach(y),this.h()},h(){b(e,"id","menu"),b(e,"class","svelte-1g8nbo9"),C(e,"open",n[0]),b(r,"id","menu-button"),b(r,"class","material-symbols-rounded svelte-1g8nbo9"),C(r,"open",n[0])},m(o,m){T(o,e,m);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);S(e,t),G(s,e,null),T(o,l,m),T(o,r,m),S(r,c),u=!0,i||(h=J(r,"click",n[2]),i=!0)},p(o,[m]){if(m&26){_=X(o[1]);let f;for(f=0;f<_.length;f+=1){const w=le(o,_,f);a[f]?(a[f].p(w,m),I(a[f],1)):(a[f]=re(w),a[f].c(),I(a[f],1),a[f].m(e,t))}for(he(),f=_.length;f<a.length;f+=1)g(f);pe()}(!u||m&1)&&C(e,"open",o[0]),(!u||m&1)&&d!==(d=o[0]?"close":"menu")&&te(c,d),(!u||m&1)&&C(r,"open",o[0])},i(o){if(!u){for(let m=0;m<_.length;m+=1)I(a[m]);I(s.$$.fragment,o),u=!0}},o(o){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)P(a[m]);P(s.$$.fragment,o),u=!1},d(o){o&&(y(e),y(l),y(r)),de(a,o),U(s),i=!1,h()}}}function Ve(n,e,t){let s;we(n,q,a=>t(1,s=a));const l=W();let r=!1;function d(){t(0,r=!r),r||l("close")}async function c(a){t(0,r=!1),l("open",a.name)}function u(a){Se(a),c(me())}return[r,s,d,c,u,a=>c(a),a=>u(a.detail),a=>c({name:a.detail})]}class Ye extends Y{constructor(e){super(),H(this,e,Ve,Me,V,{})}}function ie(n,e,t){const s=n.slice();return s[19]=e[t],s[21]=t,s}function oe(n){let e,t=n[19]+"",s;return{c(){e=v("p"),s=x(t),this.h()},l(l){e=E(l,"P",{class:!0});var r=D(e);s=ee(r,t),r.forEach(y),this.h()},h(){b(e,"class","svelte-46q41c"),C(e,"title",n[6].style[n[21]].title),C(e,"subtitle",n[6].style[n[21]].subtitle),C(e,"empty-line",n[6].style[n[21]].newLine&&!n[6].style[n[21]].fullLine),L(e,"flex-basis",n[6].style[n[21]].newLine?"100%":"auto"),L(e,"flex-shrink",n[19]===" "?"0":"1")},m(l,r){T(l,e,r),S(e,s)},p(l,r){r&64&&t!==(t=l[19]+"")&&te(s,t),r&64&&C(e,"title",l[6].style[l[21]].title),r&64&&C(e,"subtitle",l[6].style[l[21]].subtitle),r&64&&C(e,"empty-line",l[6].style[l[21]].newLine&&!l[6].style[l[21]].fullLine),r&64&&L(e,"flex-basis",l[6].style[l[21]].newLine?"100%":"auto"),r&64&&L(e,"flex-shrink",l[19]===" "?"0":"1")},d(l){l&&y(e)}}}function ae(n){let e,t="|";return{c(){e=v("p"),e.textContent=t,this.h()},l(s){e=E(s,"P",{id:!0,class:!0,"data-svelte-h":!0}),z(e)!=="svelte-17p168h"&&(e.textContent=t),this.h()},h(){b(e,"id","cursor"),b(e,"class","svelte-46q41c"),C(e,"title",n[9](n[6],n[3]).title),C(e,"subtitle",n[9](n[6],n[3]).subtitle),L(e,"left",n[4]+"px"),L(e,"top",n[5]+"px")},m(s,l){T(s,e,l)},p(s,l){l&584&&C(e,"title",s[9](s[6],s[3]).title),l&584&&C(e,"subtitle",s[9](s[6],s[3]).subtitle),l&16&&L(e,"left",s[4]+"px"),l&32&&L(e,"top",s[5]+"px")},d(s){s&&y(e)}}}function He(n){let e,t,s,l,r,d="a",c,u,i,h,_=X(n[6].parsedText),a=[];for(let o=0;o<_.length;o+=1)a[o]=oe(ie(n,_,o));let g=n[2]&&ae(n);return i=new Ye({}),i.$on("open",n[14]),i.$on("close",n[8]),{c(){e=v("main"),t=v("div"),s=v("div");for(let o=0;o<a.length;o+=1)a[o].c();l=B(),r=v("p"),r.textContent=d,c=B(),g&&g.c(),u=B(),j(i.$$.fragment),this.h()},l(o){e=E(o,"MAIN",{class:!0});var m=D(e);t=E(m,"DIV",{id:!0,class:!0});var f=D(t);s=E(f,"DIV",{id:!0,class:!0});var w=D(s);for(let R=0;R<a.length;R+=1)a[R].l(w);l=A(w),r=E(w,"P",{id:!0,class:!0,"data-svelte-h":!0}),z(r)!=="svelte-zhhe6d"&&(r.textContent=d),w.forEach(y),f.forEach(y),c=A(m),g&&g.l(m),u=A(m),F(i.$$.fragment,m),m.forEach(y),this.h()},h(){b(r,"id","hidden-character"),b(r,"class","svelte-46q41c"),b(s,"id","note-text-area"),b(s,"class","svelte-46q41c"),b(t,"id","note-area"),b(t,"class","svelte-46q41c"),b(e,"class","svelte-46q41c")},m(o,m){T(o,e,m),S(e,t),S(t,s);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,null);S(s,l),S(s,r),n[12](s),n[13](t),S(e,c),g&&g.m(e,null),S(e,u),G(i,e,null),h=!0},p(o,[m]){if(m&64){_=X(o[6].parsedText);let f;for(f=0;f<_.length;f+=1){const w=ie(o,_,f);a[f]?a[f].p(w,m):(a[f]=oe(w),a[f].c(),a[f].m(s,l))}for(;f<a.length;f+=1)a[f].d(1);a.length=_.length}o[2]?g?g.p(o,m):(g=ae(o),g.c(),g.m(e,u)):g&&(g.d(1),g=null)},i(o){h||(I(i.$$.fragment,o),h=!0)},o(o){P(i.$$.fragment,o),h=!1},d(o){o&&y(e),de(a,o),n[12](null),n[13](null),g&&g.d(),U(i)}}}function Q(n){let e=[],t="",s=[],l=!0,r=!1,d=-1,c=!1,u=-1,i=0;for(;i<n.length;i++){const h=n[i],_=n[i+1],a=n[i+2],g=n[i+3];let o=!1;l&&h==="#"&&_===" "&&a!==`
`&&a!==void 0&&(r=!0,d=i,o=!0),r&&h===" "&&i-d===1&&(o=!0),l&&h==="#"&&_==="#"&&a===" "&&g!==`
`&&g!==void 0&&(c=!0,u=i,o=!0),c&&h==="#"&&i-u===1&&(o=!0),c&&h===" "&&i-u===2&&(o=!0),h===`
`&&(r=!1,c=!1),l=h===`
`,!o&&(e.push({title:r,subtitle:c,newLine:h===`
`,fullLine:h===`
`&&_===`
`}),t+=h,s.push(i))}return s.push(i),{parsedText:t,style:e,mappings:s}}function Xe(n,e){let t=e.parentNode;for(;t!=null;){if(t==n)return!0;t=t.parentNode}return!1}function ze(n,e,t){let s,l,r,d,c="",u=!1,i=0,h=-100,_=-100;async function a(p){const k=ge(p);t(11,c=k.content),t(6,s=Q(c)),t(3,i=s.parsedText.length),t(10,d=p),await M(),g()}function g(){if(c.length===0){const N=l.getBoundingClientRect();t(4,h=N.left);return}if(i===0){const N=l.children.item(0).getBoundingClientRect();t(4,h=N.left),t(5,_=N.bottom);return}const p=s.parsedText[i-1];if(s.style[i-1],p===`
`){const N=l.children.item(i).getBoundingClientRect();t(4,h=N.left),t(5,_=N.bottom);return}const k=l.children.item(i-1).getBoundingClientRect();t(4,h=k.right),t(5,_=k.bottom)}function o(p){if(t(2,u=Xe(r,p.target)||p.target===r),l.contains(p.target)&&l!==p.target&&p.target.id!=="hidden-character"){t(3,i=Array.from(l.children).indexOf(p.target));const k=p.target.getBoundingClientRect();p.clientX>k.left+k.width/2&&t(3,i++,i),g()}else if(p.target===r||p.target===l||p.target.id==="hidden-character"){const k=p.clientX,N=p.clientY;for(t(3,i=0);i<s.parsedText.length;t(3,i++,i)){const K=l.children[i].getBoundingClientRect();if(N<K.top||N<K.bottom&&k<K.right)break}g()}}function m(p){let k=0;for(;s.mappings[k]<p;k++);t(3,i=k)}async function f(p){if(u){if(p.key==="ArrowRight"){if(i===s.parsedText.length)return;t(3,i++,i),await M(),g()}else if(p.key==="ArrowLeft"){if(i===0)return;t(3,i--,i),await M(),g()}else if(p.key==="Backspace"){if(s.mappings[i]===0)return;const k=s.mappings[i];t(11,c=c.slice(0,k-1)+c.slice(k,c.length)),t(6,s=Q(c)),m(k-1),await M(),g()}else if(!(p.key!=="Enter"&&p.key.length>1)){let k=p.key;k==="Enter"&&(k=`
`);const N=s.mappings[i];t(11,c=c.slice(0,N)+k+c.slice(N,c.length)),t(6,s=Q(c)),m(N+1),await M(),g()}}}async function w(){setTimeout(()=>t(2,u=!0),0)}function R(p,k){return c.length===0?{}:p.parsedText[k]===`
`||k===p.parsedText.length?p.style[k-1]:p.style[k]}fe(async()=>{window.addEventListener("keydown",f),window.addEventListener("click",o);const p=me();return a(p.name),()=>{window.removeEventListener("keyDown",f),window.removeEventListener("click",o)}});function _e(p){Z[p?"unshift":"push"](()=>{l=p,t(0,l)})}function ke(p){Z[p?"unshift":"push"](()=>{r=p,t(1,r)})}const be=p=>a(p.detail);return n.$$.update=()=>{n.$$.dirty&3072&&c!==void 0&&d!==void 0&&Ee(d,c)},t(6,s={parsedText:"",style:[],mappings:[]}),[l,r,u,i,h,_,s,a,w,R,d,c,_e,ke,be]}class Ue extends Y{constructor(e){super(),H(this,e,ze,He,V,{})}}export{Ue as component};
